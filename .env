# .env.example - Environment Variables Template for VyaapaarAI
# Copy this file to .env and replace placeholders with actual values
# NEVER commit the actual .env file to version control

MONGO_URI=mongodb+srv://shashankreddy9603_db_user:coderedopenai@codered.bjlsrmy.mongodb.net/?retryWrites=true&w=majority&appName=CodeRed
#mongodb+srv://coderedopenai:coderedopenai@vyaapaarai.zfamk0l.mongodb.net/?appName=vyaapaarai
#MONGO_URI=
#mongodb+srv://shashankreddy9603_db_user:coderedopenai@codered.bjlsrmy.mongodb.net/?retryWrites=true&w=majority&appName=CodeRed

#mongodb+srv://shashankreddy9603_db_user:VyaapaarAI@codered.bjlsrmy.mongodb.net/?appName=CodeRed

WHATSAPP_PHONE_NUMBER_ID=848313815029015
WHATSAPP_ACCESS_TOKEN=EAAVp4L5vvosBP25hG07QG6v8Kmm3PcIrliXZBDRo89wDxbHp2e4lOZBLksLxO3UCjtJZCyM4XSrnlHSBkeCV2UswXJFCeZBvlBrDkOCJZBLJ2kI1jgLPTe88Utmti42RrsXdgmJICiGBpXqpJYPUkhqJi2NufYE1O67ZBZBQL020ZBmhWN7WaaZCqxJ7u4LkLaZBUnxAhTVi2n0dZA1yRkWbRFkZAitODZA5s2tunTRoZCOwpd
WHATSAPP_WEBHOOK_VERIFY_TOKEN=12345
WHATSAPP_APP_SECRET=a619e9dad713755fc74221c96937333f
WHATSAPP_API_VERSION=v24.0

GEMINI_API_KEY=AIzaSyBnjgeHA9o9wpPdWJdP0wF3nidLPfj84eE
GEMINI_MODEL=gemini-2.0-flash
GEMINI_MAX_REQUESTS=20
GEMINI_TIME_WINDOW=60

JWT_SECRET=997d109636e28f67e4bdd1c8c9bc32f0f5604c7771265520b6d543fa98fcab0a
JWT_EXPIRY_HOURS=12



# Vector Database Configuration
CHROMA_PERSIST_DIR=./chroma_db



# Admin Credentials (change these!)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# Logging Configuration
LOG_LEVEL=INFO

# API Configuration
API_PORT=8000
API_HOST=0.0.0.0

# Streamlit Configuration
STREAMLIT_PORT=8501

# uvicorn app:app --reload --port 8000

# # 6. Start dashboard (in another terminal)
# streamlit run dashboard_app.py

# # 7. Expose webhook for WhatsApp testing
# ngrok http 8000

DASHBOARD_TZ=+05:30

# ============================================================
# Added variables for VyaapaarAI v2.0.1 (appended without changing existing keys)
# ============================================================

# --- API Configuration (additional) ---
API_BASE_URL=http://localhost:8000
DASHBOARD_PORT=8501

# --- Database Configuration (additional) ---
DB_NAME=vyaapaarai
MONGO_MAX_POOL_SIZE=50
MONGO_MIN_POOL_SIZE=10

# --- Authentication & Security (additional) ---
JWT_ALGORITHM=HS256
BCRYPT_ROUNDS=12


# --- Vector Store (RAG/ChromaDB) (additional) ---
CHROMA_COLLECTION_PREFIX=rag_store_

# --- Logging (additional) ---
LOG_FILE=./logs/vyaapaarai.log

# --- Inventory & Knowledge Settings ---
DEFAULT_REORDER_PERCENTAGE=20
INVENTORY_CHANGE_TRACKING=true
SYNC_INVENTORY_TO_RAG=true
MAX_INVENTORY_FETCH=10000
KNOWLEDGE_DEDUP_WINDOW=300

# --- Business Rules Engine ---
ENABLE_SALES_TARGET_ALERTS=true
ENABLE_LOW_STOCK_ALERTS=true
ENABLE_MONTHLY_REPORTS=true
ENABLE_COMPETITOR_WATCH=false
MAX_RULES_FETCH=1000
ALERT_DEDUP_WINDOW_MINUTES=5

# --- Alert Configuration ---
ALERT_CHANNELS=whatsapp,email,dashboard
WHATSAPP_ALERT_ENABLED=true
EMAIL_ALERT_ENABLED=false
SMS_ALERT_ENABLED=false

DB_NAME=vyaapaarai

# --- Alert Notification Settings ---
LOW_STOCK_ALERT_THRESHOLD_PERCENT=20
SALES_TARGET_CHECK_FREQUENCY=daily
MONTHLY_REPORT_DAY=1
MONTHLY_REPORT_TIME=09:00

# --- Competitor Watching (optional) ---
COMPETITOR_CHECK_FREQUENCY=daily
PRICE_CHANGE_ALERT_THRESHOLD=5.0

# --- Knowledge Base Settings ---
USE_SIMPLIFIED_KNOWLEDGE_FORMAT=true
KNOWLEDGE_SYNC_ENABLED=true
MAX_ALERTS_FETCH=100

# --- Redis / Cache (optional) ---
# Redis Configuration (v3.5 caching)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# --- Email (optional) ---
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM_EMAIL=noreply@vyaapaarai.com
SMTP_USE_TLS=true

# --- SMS / Twilio (optional) ---
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# --- Data retention ---
AUTO_ARCHIVE_MESSAGES_DAYS=90
AUTO_ARCHIVE_ENABLED=true
AUTO_DELETE_ARCHIVED_DAYS=365

# --- Feature flags ---
FEATURE_RAG_ENABLED=true
FEATURE_COMPETITOR_WATCH_ENABLED=false
FEATURE_AUTO_ORDERING_ENABLED=false
FEATURE_VOICE_MESSAGES_ENABLED=true
FEATURE_IMAGE_RECOGNITION_ENABLED=true

# --- Performance tuning ---
AGGREGATION_BATCH_SIZE=100
MAX_CONCURRENT_RULES=10
KNOWLEDGE_UPDATE_BATCH_SIZE=50
API_REQUEST_TIMEOUT=30
DATABASE_QUERY_TIMEOUT=10

# --- Security & CORS ---
CORS_ORIGINS=http://localhost:8501,http://localhost:3000,http://localhost:8000
ALLOWED_HOSTS=localhost,127.0.0.1
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_MINUTES=15
SESSION_TIMEOUT_MINUTES=60
SESSION_RENEWAL_THRESHOLD_MINUTES=10

# --- Webhook & public URL ---
WEBHOOK_PATH=/webhook
WEBHOOK_VERIFY_TOKEN=12345
PUBLIC_URL=https://untinged-peripteral-chong.ngrok-free.dev

# --- Monitoring & debugging ---
DEBUG_MODE=false
VERBOSE_LOGGING=false
SENTRY_DSN=

# --- Deployment environment ---
ENVIRONMENT=development

# Advanced Features
RATE_LIMIT_ENABLED=true    
FUZZY_MATCHING_ENABLED=true
DUPLICATE_PREVENTION_ENABLED=true